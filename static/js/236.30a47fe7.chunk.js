"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[236],{236:function(e,n,t){t.r(n),t.d(n,{default:function(){return M}});var r={listWrap:"my-phonebook_listWrap__KQ9M6"},a=t(5861),o=t(9439),s=t(7757),c=t.n(s),u=t(2791),i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;return crypto.getRandomValues(new Uint8Array(e)).reduce((function(e,n){return e+=(n&=63)<36?n.toString(36):n<62?(n-26).toString(36).toUpperCase():n>62?"-":"_"}),"")},l=t(5264),m=t(4942),h=t(1413),f=function(e){var n=(0,u.useState)((0,h.Z)({},e)),t=(0,o.Z)(n,2),r=t[0],a=t[1],s=(0,u.useCallback)((function(e){var n=e.target,t=n.name,r=n.value;a((function(e){return(0,h.Z)((0,h.Z)({},e),{},(0,m.Z)({},t,r))}))}),[]),c=(0,u.useCallback)((function(){a((0,h.Z)({},e))}),[e]);return{state:r,setState:a,handleChange:s,reset:c}},p=t(4420),d=t(296),v="phonebook-form_form__wvS0n",b="phonebook-form_phoneWrap__OoSO2",_="phonebook-form_contactsWrap__HfxFt",x="phonebook-form_label__ZmqSa",j="phonebook-form_button__RAUqO",k="phonebook-form_title__MylvU",N="phonebook-form_input__Tvt8P",g=t(184),w={name:"",number:""},C=function(){var e=(0,p.I0)(),n=(0,u.useState)(!1),t=(0,o.Z)(n,2),r=t[0],s=t[1],m=f(w),h=m.state,C=m.handleChange,Z=m.reset,y=(0,u.useMemo)((function(){return i()}),[]),S=(0,u.useMemo)((function(){return i()}),[]),L=function(){var n=(0,a.Z)(c().mark((function n(t){return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.preventDefault(),s(!0),n.prev=2,n.next=5,e((0,d.Dk)(h));case 5:Z(),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(2),l.Notify.failure("Couldn't add a contact");case 11:return n.prev=11,s(!1),n.finish(11);case 14:case"end":return n.stop()}}),n,null,[[2,8,11,14]])})));return function(e){return n.apply(this,arguments)}}(),W=h.name,q=h.number;return(0,g.jsxs)("form",{onSubmit:L,className:v,children:[(0,g.jsxs)("div",{className:b,children:[(0,g.jsx)("h3",{className:k,children:"Phonebook"}),(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{htmlFor:y,className:x,children:"Name"}),(0,g.jsx)("input",{className:N,value:W,required:!0,name:"name",onChange:C,id:y,type:"text",placeholder:"Enter a name"})]})]}),(0,g.jsx)("div",{className:_,children:(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{htmlFor:S,className:x,children:"Number"}),(0,g.jsx)("input",{className:N,value:q,required:!0,name:"number",onChange:C,id:S,type:"tel",placeholder:"Enter a number"})]})}),(0,g.jsx)("button",{type:"submit",className:j,disabled:r,children:r?"Adding...":"Add a contact"}),(0,g.jsx)("h3",{className:k,children:"Contacts"})]})},Z=(0,u.memo)(C),y=function(e){var n=e.contacts,t=e.filter,r=n.items;if(!t)return n;var a=t.toLowerCase(),o=r.filter((function(e){var n=e.name,t=e.number,r=n.toLowerCase(),o=t.toLowerCase();return r.includes(a)||o.includes(a)}));return(0,h.Z)((0,h.Z)({},n),{},{items:o})},S={button:"phonebook-list_button__mP-6f",list:"phonebook-list_list__hcIZr"},L=function(){var e=(0,p.v9)(y),n=e.items,t=e.isLoading,r=e.error,s=(0,u.useState)(!1),i=(0,o.Z)(s,2),l=i[0],m=i[1],h=(0,u.useState)(!1),f=(0,o.Z)(h,2),v=f[0],b=f[1],_=(0,p.I0)();(0,u.useEffect)((function(){b(!0),_((0,d.yF)()).then((function(){return b(!1)})).catch((function(){return b(!0)}))}),[_]);var x=function(){var e=(0,a.Z)(c().mark((function e(n){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.prev=1,e.next=4,_((0,d.zY)(n));case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:return e.prev=8,m(!1),e.finish(8);case 11:case"end":return e.stop()}}),e,null,[[1,6,8,11]])})));return function(n){return e.apply(this,arguments)}}(),j=n.map((function(e){var n=e.id,t=e.name,r=e.number;return(0,g.jsxs)("li",{children:[t," ",r," ",(0,g.jsx)("button",{className:S.button,onClick:function(){return x(n)},type:"button",disabled:l,children:l?"Removing...":"Remove contact"})]},n)}));return(0,g.jsxs)("div",{className:S.wrapper,children:[v&&t&&(0,g.jsx)("p",{children:"Now Loading..."}),r&&(0,g.jsx)("p",{children:r}),Boolean(n.length)&&(0,g.jsx)("ol",{className:S.list,children:j})]})},W=t(5653),q=function(e){return e.filter},A="phonebook-filter_input__0gVDX",F=function(){var e=(0,p.I0)(),n=(0,p.v9)(q);return(0,g.jsx)("input",{value:n,className:A,name:"filter",placeholder:"Search",onChange:function(n){var t=n.target;return e((0,W.T)(t.value))}})},I=function(){return(0,g.jsxs)("div",{className:r.wrap,children:[(0,g.jsx)(Z,{}),(0,g.jsxs)("div",{className:r.listWrap,children:[(0,g.jsx)(F,{}),(0,g.jsx)(L,{})]})]})},M=function(){return(0,g.jsx)("div",{children:(0,g.jsx)(I,{})})}}}]);
//# sourceMappingURL=236.30a47fe7.chunk.js.map